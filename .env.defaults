# Operational defaults - committed to git
# These are non-secret configuration values shared across all environments
# Local .env overrides these values for development
# Production uses these + Render-injected secrets

# Email Processing
EMAIL_PIPELINE_CONCURRENCY=1

# Vector Search
VECTOR_SCORE_THRESHOLD=0
NEAR_DUPLICATE_THRESHOLD=0.98
MIN_EXAMPLES_PER_RELATIONSHIP=10
EMBEDDING_BATCH_SIZE=32
VECTOR_FETCH_LIMIT=100
DIRECT_EMAIL_FETCH_LIMIT=10
CATEGORY_EMAIL_FETCH_LIMIT=30
VECTOR_SEARCH_TIMEOUT_MS=5000

# Pipeline
PIPELINE_BATCH_SIZE=100
PIPELINE_PARALLELISM=5
PIPELINE_RETRY_ATTEMPTS=3
PIPELINE_ERROR_THRESHOLD=0.1

# Tone Learning
EXAMPLE_COUNT=10
DIRECT_EMAIL_MAX_PERCENTAGE=0.6
DIVERSITY_WEIGHT=0.3

# Pattern Analysis
PATTERN_ANALYSIS_CORPUS_SIZE=200
PATTERN_ANALYSIS_MAX_TOKENS=20000
PATTERN_EXAMPLE_COUNT=10
PATTERN_UNIQUE_EXPRESSIONS_COUNT=15

# LLM
LLM_ACTION_RETRIES=1

# Workers
WORKERS_START_PAUSED=false

# Inbox
NEXT_PUBLIC_INBOX_BATCH_SIZE=3
NEXT_PUBLIC_LOOK_BACK_DEFAULT_MINUTES=15

# Folders
DEFAULT_ROOT_FOLDER=
DEFAULT_DRAFTS_FOLDER="[Gmail]/Drafts"
DEFAULT_NO_ACTION_FOLDER="*No Action"
DEFAULT_SPAM_FOLDER="*Spam"

# Scheduling
CHECK_MAIL_INTERVAL=60000
UPDATE_TONE_INTERVAL=86400000

# Email Processing Timeouts
EMAIL_PROCESSING_LOCK_TTL=90000
EMAIL_PROCESSING_LLM_TIMEOUT=60000

# BullMQ Inbox Worker
BULLMQ_INBOX_CONCURRENCY=5
BULLMQ_INBOX_LOCK_DURATION=120000
BULLMQ_INBOX_LOCK_RENEW_TIME=30000
BULLMQ_INBOX_STALLED_INTERVAL=30000
BULLMQ_INBOX_MAX_STALLED_COUNT=1

# BullMQ Training Worker
BULLMQ_TRAINING_CONCURRENCY=2
BULLMQ_TRAINING_LOCK_DURATION=600000
BULLMQ_TRAINING_LOCK_RENEW_TIME=60000
BULLMQ_TRAINING_STALLED_INTERVAL=60000
BULLMQ_TRAINING_MAX_STALLED_COUNT=1

# BullMQ Redis
BULLMQ_REDIS_RETRY_DELAY_MIN=50
BULLMQ_REDIS_RETRY_DELAY_MAX=2000

# BullMQ Cleanup
BULLMQ_CLEANUP_INTERVAL=120000
BULLMQ_INBOX_CLEANUP_STALE_AGE=180000
BULLMQ_TRAINING_CLEANUP_STALE_AGE=660000

# Additional Folder Configuration
DEFAULT_TODO_FOLDER="*Todo"

# Style Analysis Configuration
STYLE_MAX_EMAILS_TO_ANALYZE=1000
STYLE_ESTIMATED_SENTENCE_LENGTH=15
STYLE_MULTI_PARAGRAPH_THRESHOLD=200

# Style Formality Thresholds (0-1 scale)
STYLE_FORMALITY_VERY_FORMAL=0.8
STYLE_FORMALITY_FORMAL=0.6
STYLE_FORMALITY_NEUTRAL=0.4
STYLE_FORMALITY_CASUAL=0.2

# Style Confidence Thresholds (based on sample size)
STYLE_CONFIDENCE_MIN_SAMPLE=10
STYLE_CONFIDENCE_LOW=50
STYLE_CONFIDENCE_MEDIUM=100
STYLE_CONFIDENCE_HIGH=500

# Style Phrase Frequency Thresholds (percentage 0-100)
STYLE_PREFERRED_PHRASE_THRESHOLD=20
STYLE_PROMPT_PHRASE_THRESHOLD=30

# Relationship-Based Style Configuration
RELATIONSHIP_FORMALITY_BUFFER=0.2
RELATIONSHIP_EMAIL_VERY_BRIEF=50
RELATIONSHIP_EMAIL_BRIEF=100
RELATIONSHIP_EMAIL_DETAILED=200
RELATIONSHIP_FORMALITY_CASUAL=0.3
RELATIONSHIP_FORMALITY_MODERATE=0.7
RELATIONSHIP_ENTHUSIASM_LOW=0.4
RELATIONSHIP_ENTHUSIASM_HIGH=0.7
RELATIONSHIP_BREVITY_LOW=0.4
RELATIONSHIP_BREVITY_HIGH=0.7
RELATIONSHIP_MIN_PHRASE_FREQUENCY=2
